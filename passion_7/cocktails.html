<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cocktails</title>

    <!-- Fonts -->
    <link rel="stylesheet" href="generel.css">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200;300;400;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <section id="popup">
      <article class="drop">
        <div class="popup_article" >
          <div id="luk">&#x2715</div>
          <img src="" alt="" />
        <h1 class="navn"></h1>
        <h3>Ingredienser:</h3>
        <ul>
          <li class="ingredient1"></li>
          <li class="ingredient2"></li>
          <li class="ingredient3"></li>
          <li class="ingredient4"></li>
          <li class="ingredient5"></li>
        </ul>
        </div>
      </article>
    </section>
    <header>
      <div class="logo" id="hjem">
        <a href="index.html">
          <img src="/images/logo.svg" alt="logo" />
        </a>
      </div>
      <nav class="main-menu">
        <div class="toggle-btn">Menu</div>
        <ul>
          <li class="active">
            <a href="index.html">
              <p>Hjem</p>
            </a>
          </li>
          <li>
            <a href="om.html">
              <p>Om</p>
            </a>
          </li>
          <li>
            <a href="cocktails.html">
              <p>Cocktails</p>
            </a>
          </li>
          <li>
            <a href="index.html">
              <p>Kontakt</p>
            </a>
          </li>
        </ul>
      </nav></header>
    <h1>Cocktails</h1>
    <div class="nav2">
    <nav>
      <button data-smag="alle">Alle</button>
      <button data-smag="Sød">Sød</button>
      <button data-smag="Sur">Sur</button>
      <button data-smag="Bitter">Bitter</button>
    </nav>
    </div>
    <main id="holder"></main>
    <template>
      <article>
        <img src="" alt="" />
        <h2 class="navn"></h2>
        <p class="beskrivelse"></p>
        <button class="clickingredienser">Ingredienser</button>
      </article>
    </template>
     <footer class="footer">
        <div class="footer-container">
          <div class="footer-row">
            <div class="footer-col">
              <h5>Crave</h5>
              <ul>
                <li><a href="index.html">Hjem</a></li>
                <li><a href="om.html">Om</a></li>
                <li><a href="cocktails.html">Opskrifter</a></li>
                <li><a href="kontakt.html">Kontakter</a></li>
              </ul>
            </div>
            <div class="footer-col">
              <h5>Sociale medier</h5>
              <ul>
                <li><a href="#">Facebook</a></li>
                <li><a href="#">Instagram</a></li>
                <li><a href="#">Twitter</a></li>
              </ul>
            </div>
            <div class="footer-col">
              <h5>Kontakt os</h5>
              <ul>
                <li>Guldbergsgade 29n</li>
                <li>2200 Nørrebro</li>
                <li>Danmark</li>
                <li>+45 35 35 35 35</li>
                <li>bagepapir@gmail.com</li>
              </ul>
            </div>
            <div class="footer-col">
              <img class="footer-logo" src="/images/logo.svg" alt="logo" />
            </div>
          </div>
        </div>
        <section class="copyright">© Crave</section>
      </footer>
     <script src="script.js"></script>
  </body>
</html>

<style>
body {
  background-color: black;
  }

img {
  max-width: 400px;
  min-width: 50%;
  }


/* Filtrerings menu styling + hover effect på button */

.nav2 {
  display: grid;
  justify-content: center;
  width: 100vw;
  height: 15vh;
  }
.nav2 button {
  margin-right: 5px;
  padding: 10px;
  border: 2px solid;
  border-radius: 20%;
  border-color: #A0806A;
  background-color: black;
  color: white;
  font-size: 20px;
  cursor: pointer;
  }
button:hover {
  color:white;
  background-color: #A0806A ;
  transition: 0.3s;
  }

main {
  display: grid;
  margin: 5%;
  row-gap: 2%;
  }


  /* Cocktail article styling  */

article {
  text-align: center;
  }

h1 {
  text-align: center;
  letter-spacing: 2px;
  }

h2 {
  font-size: 30px;
  }


  /* Ingrediens button styling */

.clickingredienser {
  padding: 3%;
  font-size: 20px;
  border: 2px solid;
  border-color: #A0806A;
  background-color: black;
  color: white;
  cursor: pointer;
}


/* popup vindue styling */

#popup {
  position: fixed;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  background-color: black;
  overflow: scroll;
  display: none;  
}
#popup article {
  width: 85vw;
  margin: 1rem auto;
  border: 4px solid;
  background-color: #3f3f3f;
}

#popup article img {
  width: 100%;
  padding-top: 6%;
}
#luk {
  position: fixed;
  padding: auto;
  cursor: pointer;
  color: white;
}


/* Popup tekst tyling */

.popup_article {
  text-align: start;
  margin: 3%;
}
.popup_article h1 {
  font-size: 35px;
}

.popup_article h3 {
  font-size: 25px;
}

ul {
  color: white;
  font-size: 20px;
}


  /* animation til popupvindue (drop) */

.drop {
  animation-name: drop_kf;
  animation-duration: 1s;
  animation-direction: alternate;
  animation-iteration-count: 1;
}

@keyframes drop_kf {
  0% {transform:translateY(-750px) ;}
  100% {transform: translateY(0px);}
}


/* Responsivt cocktail */

@media (min-width: 1000px) {
    main {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    column-gap: 5%;
    row-gap: 3%;
    margin: 5%;
  }
  }


  /* Responsiv popup vindue */
@media (min-width: 700px)
  {
  #popup {
    position: fixed;
    left: 0;
    top: 0;
    width: 100vw;
    height: 100vh;
    background-color: black;
    overflow: scroll;
    display: none;
    
  }
  #popup article {
    width: 30vw;
    height: auto;
    margin: 1rem auto;
    border: 4px solid;
    border-color: #A0806A;
    background-color: #3f3f3f;
  }
  }
</style>

<script>
  const url = "https://cocktail-1a93.restdb.io/rest/cocktails";

  const options = {
    headers: {
      "x-apikey": "631b1889fdc15b0265f17273",
    },
  };


  // const, variabel og clicklytter

  const main = document.querySelector("#holder");
  const template = document.querySelector("template").content;
  

  let filter = "alle";

  const filtrerKnapper = document.querySelectorAll("nav button");
  filtrerKnapper.forEach((knap) =>
    knap.addEventListener("click", filtrerCocktail)
  );


  // filtrer funktion sød, sur, bitter

  function filtrerCocktail() {
    filter = this.dataset.smag;
    hentCocktailData();

    header.textContent = this.textContent;
  }


  // hent cocktail data

  async function hentCocktailData() {
    const resspons = await fetch(url, options);
    const json = await resspons.json();

    vis(json);
  }


  // vis cocktail data

  function vis(json) {
    console.log(json);
    main.textContent = "";
    json.forEach((json) => {
      if (filter == json.smag || filter == "alle") {
        const klon = template.cloneNode(true);
        klon.querySelector("img").src = "" + json.billedenavn;
        klon.querySelector(".navn").textContent = json.navn;
        klon
          .querySelector(".clickingredienser")
          .addEventListener("click", () => visIngredienser(json));
        main.appendChild(klon);
      }
    });
  }


  // popup info

  function visIngredienser(json) {
    popup.style.display = "block";
    popup.querySelector("img").src = "" + json.billedenavn;
    popup.querySelector(".navn").textContent = json.navn;
    popup.querySelector(".ingredient1").textContent = json.ingredient1;
    popup.querySelector(".ingredient2").textContent = json.ingredient2;
    popup.querySelector(".ingredient3").textContent = json.ingredient3;
    popup.querySelector(".ingredient4").textContent = json.ingredient4;
    popup.querySelector(".ingredient5").textContent = json.ingredient5;
  }


  // luk popup
  document
    .querySelector("#luk")
    .addEventListener("click", () => (popup.style.display = "none"));

  hentCocktailData();
</script>
